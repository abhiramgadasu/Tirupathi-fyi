<div class="w-100" *ngIf="!isLoggedIn">
  <app-main></app-main>
</div>
<div class="w-100" *ngIf="isLoggedIn">
  <mat-toolbar class="example-toolbar">
    <div class="d-flex align-items-center flex-grow-1">
      <button mat-icon-button (click)="isExpanded = !isExpanded">
        <img src="../../assets/Tirupati-Balaji-Tilak.png" alt="Profile" class="profile-icon">
      </button>

      <div class="input-group mb-0 mx-auto" style="width: 500px;">
        <input type="text" class="form-control" placeholder="Search">
        <div class="input-group-append">
          <button type="submit" class="searchbutton btn btn-primary">
            <i class="fas fa-search"></i> search
          </button>
        </div>
      </div>
    </div>

    <button mat-icon-button [matMenuTriggerFor]="profileMenu">
      <mat-icon>account_circle</mat-icon>
    </button>

    <span class="profile-name">John Doe</span>

    <mat-menu #profileMenu="matMenu" class="profile-menu">
      <button mat-menu-item (click)="openChangePasswordDialog()">Change Password</button>
      <button mat-menu-item (click)="logout()">Logout</button>
    </mat-menu>
  </mat-toolbar>

  <mat-sidenav-container class="example-container" autosize>
    <mat-sidenav #sidenav class="example-sidenav" mode="side" opened="true" (mouseenter)="mouseenter()"
      (mouseleave)="mouseleave()">
      <mat-nav-list>
        <mat-list-item class="parent mt-1" [routerLink]="['/home']" routerLinkActive="router-link-active">
          <mat-icon mat-list-icon>home</mat-icon>
          <span class="full-width navcolor" *ngIf="isExpanded || isShowing">Home</span>
        </mat-list-item>
        <mat-list-item class="parent mt-1" [routerLink]="['/events']" routerLinkActive="router-link-active">
          <mat-icon>date_range</mat-icon>
          <span class="full-width navcolor" *ngIf="isExpanded || isShowing">Events</span>
        </mat-list-item>
        <mat-list-item class="parent mt-1" [routerLink]="['/services']" routerLinkActive="router-link-active">
          <mat-icon>settings</mat-icon>
          <span class="full-width navcolor" *ngIf="isExpanded || isShowing">Services</span>
        </mat-list-item>
        <mat-list-item class="parent mt-1" (click)="onCreatePlaceClick()" routerLinkActive="router-link-active">
          <mat-icon>place</mat-icon>
          <span class="full-width navcolor" *ngIf="isExpanded || isShowing">Places</span>
        </mat-list-item>
        <mat-list-item class="parent mt-1" (click)="onCreateJobClick()" routerLinkActive="router-link-active">
          <mat-icon>border_color</mat-icon>
          <span class="full-width navcolor" *ngIf="isExpanded || isShowing">Jobs</span>
        </mat-list-item>
        <!-- <mat-list-item class="parent mt-1" (click)="onCreateEventClick()" routerLinkActive="router-link-active">
          <mat-icon>event</mat-icon>
          <span class="full-width navcolor" *ngIf="isExpanded || isShowing">Events</span>
        </mat-list-item> -->
        <mat-list-item class="parent mt-1" [routerLink]="['/userlists']" routerLinkActive="router-link-active">
          <mat-icon>list</mat-icon>
          <span class="full-width navcolor" *ngIf="isExpanded || isShowing">User List</span>
        </mat-list-item>
        <mat-list-item class="parent mt-1" [routerLink]="['/Companies']" routerLinkActive="router-link-active">
          <mat-icon>business</mat-icon>
          <span class="full-width navcolor" *ngIf="isExpanded || isShowing">Companies</span>
        </mat-list-item>
      </mat-nav-list>
    </mat-sidenav>

    <mat-sidenav-content class="content p-2">
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
